<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.16.min.js"></script>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-widtd, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/main.css">
  <title>Popular - GMG Wiki</title>
  <link rel="shortcut icon" type="image/png" href="images/favicon2.png";>
</head>
<body style="background-color: #A2EAA4;" onload="updateTablesLikes();">


<div class="container-fluid d-flex flex-column px-0 vh-100">
  <div class="d-flex justify-content-between " id="topbar">
    <a href="index.html"><img class="item logo p-3" src="images/logo.png" alt="Eagle logo for go mean green"></a>
    <div class="item mb-1 text-white align-self-center display-4">Go Mean Green Wiki</div>
    <a href="#"><img class="item logo p-3" src="images/pfp.png" alt="Profile picture"></a>
  </div>

  <nav class="navbar navbar-expand-md sticky-top bg-white">
    <div class="navbar-nav">
      <a class="nav-item nav-link inactive" href="index.html">Home</a>
      <a class="nav-item nav-link inactive" href="browse.html">Browse</a>
      <a class="nav-item nav-link current" href="popular.html">Popular</a>
      <a class="nav-item nav-link inactive" href="about.html">About</a>
    </div>
    <form class="form-inline ml-auto mr-3" action="search.html" method="GET">
    <input class="form-control mr-2" type="text" placeholder="Search" name="search" id="searchContent">
    <button class="btn" type="submit" id="gobutton">Go</button>
    </form>
  </nav>

  <div class="container d-flex align-items-center justify-content-between" style="height: 80%">
    <div class="content w-100 d-flex flex-column align-content-around" style="height: 85%;">
      <h2 class="text-white">Most Popular Buildings</h2>
      <div class="tablecontainer">
        <table class="table table-striped table-responsive text-white" id="popularTable">
          <tr><th scope="col">Building</th><th scope="col" class="text-center">Likes</th></tr>
          <tr><td style="width: 90%"  onclick="window.location.href = 'AFROTC.html?name=afrotc+building';">AFROTC Building</td><td>0</td></tr>
          <tr><td onclick="window.location.href = 'Alumni.html?name=alumni+pavilion';">Alumni Pavilion</td><td>0</td></tr>
          <tr><td onclick="window.location.href = 'Apogee.html?name=apogee+stadium';">Apogee Stadium</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Art.html?name=art+building';">Art Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'AthleticCenter.html?name=athletic+center';">Athletic Center Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Auditorium.html?name=auditorium-english+building';">Auditorium-English Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Bain.html?name=bain+hail';">Bain Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Bruce.html?name=bruce+hall';">Bruce Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'BusinessLeadership.html?name=business+leadership+building';">Business Leadership Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Chemistry.html?name=chemistry+building';">Chemistry Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Chestnut.html?name=chestnut+hall';">Chestnut Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Chilton.html?name=chilton+hall';">Chilton Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Clark.html?name=clark+hall';">Clark Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Coliseum.html?name=coliseum';">Coliseum</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'CollegeInn.html?name=college+inn';">College Inn</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Crumley.html?name=crumley+hall';">Crumley Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Curry.html?name=curry+hall';">Curry Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'DanceandTheater.html?name=dance+and+theater';">Dance and Theater</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'DiscoveryPark.html?name=discovery+park+building';">Discovery Park Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'EagleLanding.html?name=eagle+landing';">Eagle Landing</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'ESSC.html?name=eagle+student+services+center';">Eagle Student Services Center</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'EnvScience.html?name=enviornmental+sciences+building';">Enviornmental Science Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Gateway.html?name=gateway+center';">Gateway Center</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'GenAcademic.html?name=general+academic+building';">General Acadmic Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Goolsby.html?name=goolsby+chapel';">Goolsby Chapel</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'GreekLife.html?name=greek+life+center';">Greek Life Center</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Hickory.html?name=hickory+hall';">Hickory Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'HighlandSPG.html?name=highland+street+parking+garage';">Highland Street Parking Garage</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Honors.html?name=honors+hall';">Honors Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'HurleyAdmin.html?name=hurley+administration+building';">Hurley Administration Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'JoeGreene.html?name=joe+greene+hall';">Joe Greene Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'KenBahnsen.html?name=ken+bahnsen+gym';">Ken Bahnsen Gym</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Kerr.html?name=kerr+hall';">Kerr Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Legends.html?name=legends+hall';">Legends Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Language.html?name=language+building';">Language Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'LibraryAnnex.html?name=library+annex+building';">Library Annex Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'LifeSciences.html?name=life+sciences+complex';">Life Sciences Complex</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Maple.html?name=maple+street+hall';">Maple Street Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Marquis.html?name=marquis+hall';">Marquis Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Matthews.html?name=matthews+hall';">Matthews Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'McConnell.html?name=mcconnell+hall';">McConnell Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Mozart.html?name=mozart+square+hall';">Mozart Square Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Murchison.html?name=murchison+performing+arts+center';">Murchison Performing Arts Center</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Music.html?name=music+building';">Music Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Oak.html?name=oak+street+hall';">Oak Street Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'PhysicalEd.html?name=physical+education+building';">Physical Education Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Physics.html?name=physics+building';">Physics Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Pohl.html?name=pohl+recreation+center';">Pohl Recreation Center</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'RadioTvFilm.html?name=radio+tv+film+performing+arts';">Radio, TV, Film & Performing Arts</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Rawlins.html?name=rawlins+hall';">Rawlins Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Sage.html?name=sage+hall';">Sage Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'SantaFe.html?name=santa+fe+square+hall';">Santa Fe Square Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'ScienceResearch.html?name=science+research+building';">Science Research Building</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'SpeechHearing.html?name=speech+and+hearing+clinic';">Speech & Hearing Clinic</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Sycamore.html?name=sycamore+hall';">Sycamore Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Terrill.html?name=terrill+hall';">Terrill Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Traditions.html?name=traditions+hall';">Traditions Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'UnionCirclePG.html?name=union+circle+parking+garage';">Union Circle Parking Garage</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'UniversityUnion.html?name=university+union';">University Union</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'UNTFrisco.html?name=unt+frisco';">UNT Frisco</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Victory.html?name=victory+hall';">Victory Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'WelcomeCenter.html?name=welcome+center';">Welcome Center</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'West.html?name=west+hall';">West Hall</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'WillisLibrary.html?name=willis+library';">Willis Library</td><td>0</td></tr>
          <tr><td scope="row" onclick="window.location.href = 'Wooten.html?name=wooten+hall';">Wooten Hall</td><td>0</td></tr>

        </table>
      </div>
    </div>
  </div>

</div>



<script type="text/javascript">
AWS.config.update({
  region: "us-east-2",
  // The endpoint should point to the local or remote computer where DynamoDB (downloadable) is running.
  endpoint: 'dynamodb.us-east-2.amazonaws.com',
  /*
    accessKeyId and secretAccessKey defaults can be used while using the downloadable version of DynamoDB.
    For security reasons, do not store AWS Credentials in your files. Use Amazon Cognito instead.
  */
  accessKeyId: "AKIAVNP5PKK56F574E76",
  secretAccessKey: "ccFqb9Zt3cZlsTBcjYuyTLxxS62QfWi5QJ41l4LR"
});

function updateTablesLikes() {
  var client = new HttpClient();
  client.get('https://a5wfjnt2l1.execute-api.us-east-2.amazonaws.com/test/girouard', function(response) {
    var res = response.substring(12, response.length - 2).split(" ");
    var table, rows, i;
    table = document.getElementById("popularTable");
    rows = table.rows;
    for (i = 1; i < rows.length; i++) {
      rows[i].getElementsByTagName("TD")[1].innerHTML = res[i-1]
    }
    sortTable();
  });
}

function sortTable() {
  var table, rows, switching, i, x, y, shouldSwitch;
  table = document.getElementById("popularTable");
  switching = true;
  while (switching) {
    switching = false;
    rows = table.rows;
    for (i = 1; i < (rows.length - 1); i++) {
      shouldSwitch = false;
      y = rows[i].getElementsByTagName("TD")[1];
      x = rows[i + 1].getElementsByTagName("TD")[1];
      if (parseInt(x.innerHTML) > parseInt(y.innerHTML)) {
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
    }
  }
}

var HttpClient = function() {
    this.get = function(aUrl, aCallback) {
        var anHttpRequest = new XMLHttpRequest();
        anHttpRequest.onreadystatechange = function() {
            if (anHttpRequest.readyState == 4 && anHttpRequest.status == 200)
                aCallback(anHttpRequest.responseText);
        }

        anHttpRequest.open( "GET", aUrl, true );
        anHttpRequest.send( null );
    }
}
</script>
<script src="js/jquery.slim.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
</body>
</html>
